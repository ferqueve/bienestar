<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórmula Magistral de Flores de Bach - Claudia De Meis</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.8.0/dist/sweetalert2.min.css">
    
    <style>
        body {
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
            font-family: Arial, sans-serif;
            min-height: 100vh;
        }

        .header-gradient {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #fce7f3;
        }

        .hero-section {
            padding: 100px 0;
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
        }

        .product-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border: none;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(236, 72, 153, 0.2);
        }

        .product-image {
            height: 250px;
            overflow: hidden;
            position: relative;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .product-card:hover .product-image img {
            transform: scale(1.1);
        }

        .badge-category {
            background: #fce7f3;
            color: #ec4899;
            font-weight: 600;
        }

        .btn-pink {
            background: #ec4899;
            border: none;
            color: white;
            font-weight: 600;
            padding: 10px 25px;
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .btn-pink:hover {
            background: #be185d;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(236, 72, 153, 0.4);
        }

        .cart-badge {
            background: #ec4899;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            position: absolute;
            top: -8px;
            right: -8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .footer-bg {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            border: none;
            border-radius: 20px;
            overflow: hidden;
        }

        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #fce7f3;
            border-radius: 50%;
            border-top-color: #ec4899;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .price-tag {
            color: #ec4899;
            font-weight: 700;
            font-size: 1.5rem;
        }

        .quantity-controls {
            border: 2px solid #fce7f3;
            border-radius: 25px;
            overflow: hidden;
            display: inline-flex;
            align-items: center;
        }

        .quantity-btn {
            background: #fce7f3;
            border: none;
            color: #ec4899;
            width: 35px;
            height: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .quantity-btn:hover {
            background: #ec4899;
            color: white;
        }

        .quantity-display {
            padding: 0 15px;
            font-weight: 600;
            color: #be185d;
        }

        .social-link {
            color: #ec4899;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            color: #be185d;
            text-decoration: none;
        }

        .section-title {
            color: #be185d;
            font-weight: 700;
            margin-bottom: 3rem;
        }

        .fade-in {
            animation: fadeIn 0.8s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <nav class="navbar navbar-expand-lg sticky-top header-gradient">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <i class="fas fa-spa me-2" style="color: #ec4899; font-size: 1.8rem;"></i>
                <div>
                    <div class="fw-bold" style="color: #be185d;">Flores de Bach</div>
                    <small style="color: #ec4899;">Claudia De Meis - Psicoterapeuta</small>
                </div>
            </a>
            <button class="btn position-relative" onclick="openCart()">
                <i class="fas fa-shopping-cart" style="color: #ec4899; font-size: 1.5rem;"></i>
                <span class="cart-badge d-none" id="cartBadge">0</span>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section text-center">
        <div class="container">
            <div class="fade-in">
                <h1 class="display-4 fw-bold mb-4" style="color: #be185d;">
                    Fórmula Magistral de Flores de Bach
                    <span class="d-block" style="color: #ec4899;">Flores de Bach</span>
                </h1>
                <p class="lead mb-4" style="color: #be185d;">
                    Elaborados con amor y dedicación para acompañar tu bienestar emocional.<br>
                    Cada gotero es preparado artesanalmente siguiendo los métodos tradicionales del Dr. Bach.
                </p>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center section-title">Nuestros Productos</h2>
            
            <!-- Loading Spinner -->
            <div id="loadingSpinner" class="text-center py-5">
                <div class="loading-spinner mx-auto mb-3"></div>
                <p style="color: #ec4899;">Cargando productos...</p>
            </div>

            <!-- Products Grid -->
            <div id="productsGrid" class="row g-4 d-none"></div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer-bg py-5 mt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-spa me-2" style="color: #ec4899; font-size: 1.5rem;"></i>
                        <h5 class="mb-0" style="color: #be185d;">Flores de Bach</h5>
                    </div>
                    <p style="color: #be185d;">
                        Goteros artesanales elaborados con amor y dedicación para tu bienestar emocional.
                    </p>
                </div>
                <div class="col-md-4">
                    <h5 class="mb-3" style="color: #be185d;">Contacto</h5>
                    <p class="fw-bold mb-2" style="color: #be185d;">Claudia De Meis - Psicoterapeuta</p>
                    <div class="mb-2">
                        <i class="fab fa-instagram me-2" style="color: #ec4899;"></i>
                        <a href="https://instagram.com/claudia.de.meis.psicoterapeuta" target="_blank" class="social-link">
                            @claudia.de.meis.psicoterapeuta
                        </a>
                    </div>
                    <div>
                        <i class="fas fa-envelope me-2" style="color: #ec4899;"></i>
                        <span style="color: #be185d; font-style: italic;">Próximamente: email corporativo</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5 class="mb-3" style="color: #be185d;">Información</h5>
                    <ul class="list-unstyled" style="color: #be185d;">
                        <li class="mb-1"><i class="fas fa-check me-2" style="color: #ec4899;"></i>Productos artesanales</li>
                        <li class="mb-1"><i class="fas fa-check me-2" style="color: #ec4899;"></i>Métodos tradicionales del Dr. Bach</li>
                        <li class="mb-1"><i class="fas fa-check me-2" style="color: #ec4899;"></i>Consultas personalizadas</li>
                        <li class="mb-1"><i class="fas fa-check me-2" style="color: #ec4899;"></i>Entrega en Uruguay</li>
                    </ul>
                </div>
            </div>
            <hr style="border-color: #fce7f3;">
            <div class="text-center">
                <p class="mb-0" style="color: #be185d;">
                    <i class="fas fa-heart me-1" style="color: #ec4899;"></i>
                    Hecho con amor para tu bienestar
                </p>
            </div>
        </div>
    </footer>

    <!-- Product Detail Modal -->
    <div class="modal fade" id="productModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0 position-relative p-0">
                    <img id="modalImage" src="" alt="" class="w-100" style="height: 300px; object-fit: cover;">
                    <button type="button" class="btn-close position-absolute top-0 end-0 m-3 bg-white rounded-circle p-2" 
                            data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="d-flex justify-content-between align-items-start mb-3">
                        <h3 id="modalTitle" class="fw-bold" style="color: #be185d;"></h3>
                        <span id="modalCategory" class="badge badge-category"></span>
                    </div>
                    <p id="modalDescription" style="color: #be185d;"></p>
                    <div class="mb-3">
                        <h6 class="fw-bold" style="color: #be185d;">Ingredientes:</h6>
                        <p id="modalIngredients" style="color: #be185d;"></p>
                    </div>
                    <div class="mb-4">
                        <h6 class="fw-bold" style="color: #be185d;">Modo de uso:</h6>
                        <p id="modalUsage" style="color: #be185d;"></p>
                    </div>
                    <div class="d-flex justify-content-between align-items-center border-top pt-3">
                        <span id="modalPrice" class="price-tag"></span>
                        <button class="btn btn-pink" onclick="addToCartFromModal()">
                            <i class="fas fa-plus me-2"></i>Agregar al carrito
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div class="modal fade" id="cartModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header" style="background: #fce7f3;">
                    <h5 class="modal-title fw-bold" style="color: #be185d;">
                        <i class="fas fa-shopping-cart me-2"></i>Tu Carrito
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
                    <div id="cartItems"></div>
                </div>
                <div class="modal-footer border-0" style="background: #fdf2f8;">
                    <div class="w-100">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <h5 class="mb-0" style="color: #be185d;">Total:</h5>
                            <h4 class="mb-0 price-tag" id="cartTotal">$0</h4>
                        </div>
                        <div class="d-grid gap-2">
                            <!-- PayPal Button Container -->
                            <div id="paypal-button-container" style="display: none;"></div>
                            <button class="btn btn-pink" onclick="showPayPalButton()" id="paypalBtn">
                                <i class="fab fa-paypal me-2"></i>Pagar con PayPal
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert2/11.8.0/dist/sweetalert2.all.min.js"></script>
    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=TU_PAYPAL_CLIENT_ID_AQUI&currency=USD&intent=capture"></script>

    <script>
        var products = [];
        var cart = [];
        var currentProduct = null;

        var sampleProducts = [
            {
                id: 1,
                name: "Rescue Remedy",
                price: 850,
                description: "Mezcla de emergencia para momentos de crisis, estrés agudo o shock emocional. Combina Star of Bethlehem, Rock Rose, Impatiens, Cherry Plum y Clematis.",
                image: "../img/img1.png",
                category: "Emergencia",
                ingredients: ["Star of Bethlehem", "Rock Rose", "Impatiens", "Cherry Plum", "Clematis"],
                usage: "4 gotas bajo la lengua o en agua, hasta 6 veces al día según necesidad."
            },
            {
                id: 2,
                name: "Mimulus",
                price: 750,
                description: "Para miedos conocidos y específicos. Ayuda a enfrentar con valentía las situaciones que generan temor.",
                image: "../img/img2.png",
                category: "Miedos",
                ingredients: ["Mimulus"],
                usage: "2 gotas en agua, 4 veces al día o según indicación del terapeuta."
            },
            {
                id: 3,
                name: "White Chestnut",
                price: 750,
                description: "Para pensamientos repetitivos e indeseados. Calma la mente y ayuda a encontrar paz mental.",
                image: "../img/img3.png",
                category: "Pensamientos",
                ingredients: ["White Chestnut"],
                usage: "2 gotas en agua o bajo la lengua, 3-4 veces al día."
            },
            {
                id: 4,
                name: "Bach Flowers Blend Personalizado",
                price: 950,
                description: "Mezcla personalizada según tu consulta terapéutica. Incluye hasta 7 esencias específicas para tu proceso.",
                image: "../img/img4.png",
                category: "Personalizado",
                ingredients: ["Consultar según necesidad"],
                usage: "Según indicación personalizada en consulta."
            },
            {
                id: 5,
                name: "Elm",
                price: 750,
                description: "Para momentos de agobio y sensación de no poder con las responsabilidades. Restaura la confianza en las propias capacidades.",
                image: "../img/img5.png",
                category: "Responsabilidad",
                ingredients: ["Elm"],
                usage: "2 gotas en agua, 4 veces al día durante períodos de estrés."
            },
            {
                id: 6,
                name: "Walnut",
                price: 750,
                description: "Para períodos de transición y cambios importantes. Protege de influencias externas y ayuda a mantener el propio camino.",
                image: "../img/img6.png",
                category: "Transiciones",
                ingredients: ["Walnut"],
                usage: "2 gotas en agua, 3 veces al día durante procesos de cambio."
            }
        ];

        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            updateCartUI();
        });

        function loadProducts() {
            setTimeout(function() {
                products = sampleProducts;
                displayProducts();
                document.getElementById('loadingSpinner').classList.add('d-none');
                document.getElementById('productsGrid').classList.remove('d-none');
            }, 1000);
        }

        function displayProducts() {
            var grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            for (var i = 0; i < products.length; i++) {
                var product = products[i];
                var productCard = document.createElement('div');
                productCard.className = 'col-lg-4 col-md-6 fade-in';
                productCard.style.animationDelay = (i * 100) + 'ms';
                
                productCard.innerHTML = '<div class="product-card" onclick="showProductDetail(' + product.id + ')">' +
                    '<div class="product-image">' +
                        '<img src="' + product.image + '" alt="' + product.name + '">' +
                    '</div>' +
                    '<div class="p-4">' +
                        '<div class="d-flex justify-content-between align-items-start mb-3">' +
                            '<h5 class="fw-bold mb-0" style="color: #be185d;">' + product.name + '</h5>' +
                            '<span class="badge badge-category">' + product.category + '</span>' +
                        '</div>' +
                        '<p class="text-muted mb-3" style="font-size: 0.9rem;">' + product.description.substring(0, 100) + '...</p>' +
                        '<div class="d-flex justify-content-between align-items-center">' +
                            '<span class="price-tag">$' + product.price + '</span>' +
                            '<button class="btn btn-pink" onclick="event.stopPropagation(); addToCart(' + product.id + ')">' +
                                '<i class="fas fa-plus me-2"></i>Agregar' +
                            '</button>' +
                        '</div>' +
                    '</div>' +
                '</div>';
                grid.appendChild(productCard);
            }
        }

        function showProductDetail(productId) {
            for (var i = 0; i < products.length; i++) {
                if (products[i].id === productId) {
                    currentProduct = products[i];
                    break;
                }
            }
            if (!currentProduct) return;

            document.getElementById('modalImage').src = currentProduct.image;
            document.getElementById('modalTitle').textContent = currentProduct.name;
            document.getElementById('modalCategory').textContent = currentProduct.category;
            document.getElementById('modalDescription').textContent = currentProduct.description;
            document.getElementById('modalIngredients').textContent = currentProduct.ingredients.join(', ');
            document.getElementById('modalUsage').textContent = currentProduct.usage;
            document.getElementById('modalPrice').textContent = '$' + currentProduct.price;

            var modal = new bootstrap.Modal(document.getElementById('productModal'));
            modal.show();
        }

        function addToCartFromModal() {
            if (currentProduct) {
                addToCart(currentProduct.id);
                var modalInstance = bootstrap.Modal.getInstance(document.getElementById('productModal'));
                modalInstance.hide();
            }
        }

        function addToCart(productId) {
            var product = null;
            for (var i = 0; i < products.length; i++) {
                if (products[i].id === productId) {
                    product = products[i];
                    break;
                }
            }
            if (!product) return;

            var existingItem = null;
            for (var j = 0; j < cart.length; j++) {
                if (cart[j].id === productId) {
                    existingItem = cart[j];
                    break;
                }
            }

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                var newItem = {};
                for (var key in product) {
                    newItem[key] = product[key];
                }
                newItem.quantity = 1;
                cart.push(newItem);
            }

            updateCartUI();
            
            Swal.fire({
                icon: 'success',
                title: '¡Agregado!',
                text: product.name + ' agregado al carrito',
                timer: 1500,
                showConfirmButton: false,
                confirmButtonColor: '#ec4899'
            });
        }

        function updateCartUI() {
            var totalItems = 0;
            for (var i = 0; i < cart.length; i++) {
                totalItems += cart[i].quantity;
            }
            
            var badge = document.getElementById('cartBadge');
            if (totalItems > 0) {
                badge.textContent = totalItems;
                badge.classList.remove('d-none');
            } else {
                badge.classList.add('d-none');
            }
        }

        function openCart() {
            updateCartDisplay();
            var modal = new bootstrap.Modal(document.getElementById('cartModal'));
            modal.show();
        }

        function updateCartDisplay() {
            var cartItems = document.getElementById('cartItems');
            var cartTotal = document.getElementById('cartTotal');

            // Resetear botones de PayPal cuando el carrito cambia
            document.getElementById('paypal-button-container').style.display = 'none';
            document.getElementById('paypalBtn').style.display = 'block';

            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="text-center py-4">' +
                    '<i class="fas fa-shopping-cart" style="font-size: 3rem; color: #fce7f3;"></i>' +
                    '<p class="mt-3 text-muted">Tu carrito está vacío</p>' +
                '</div>';
                cartTotal.textContent = '$0';
                return;
            }

            var cartHTML = '';
            var total = 0;

            for (var i = 0; i < cart.length; i++) {
                var item = cart[i];
                var subtotal = item.price * item.quantity;
                total += subtotal;

                cartHTML += '<div class="d-flex align-items-center mb-3 p-3 border rounded">' +
                    '<img src="' + item.image + '" alt="' + item.name + '" style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">' +
                    '<div class="flex-grow-1 ms-3">' +
                        '<h6 class="mb-1" style="color: #be185d;">' + item.name + '</h6>' +
                        '<p class="mb-0 price-tag">$' + item.price + '</p>' +
                    '</div>' +
                    '<div class="quantity-controls me-2">' +
                        '<button class="quantity-btn" onclick="updateQuantity(' + item.id + ', ' + (item.quantity - 1) + ')">' +
                            '<i class="fas fa-minus"></i>' +
                        '</button>' +
                        '<span class="quantity-display">' + item.quantity + '</span>' +
                        '<button class="quantity-btn" onclick="updateQuantity(' + item.id + ', ' + (item.quantity + 1) + ')">' +
                            '<i class="fas fa-plus"></i>' +
                        '</button>' +
                    '</div>' +
                    '<button class="btn btn-outline-danger btn-sm" onclick="removeFromCart(' + item.id + ')">' +
                        '<i class="fas fa-trash"></i>' +
                    '</button>' +
                '</div>';
            }

            cartItems.innerHTML = cartHTML;
            cartTotal.textContent = '$' + total;
        }

        function updateQuantity(productId, newQuantity) {
            if (newQuantity <= 0) {
                removeFromCart(productId);
                return;
            }

            for (var i = 0; i < cart.length; i++) {
                if (cart[i].id === productId) {
                    cart[i].quantity = newQuantity;
                    break;
                }
            }
            updateCartUI();
            updateCartDisplay();
        }

        function removeFromCart(productId) {
            var newCart = [];
            for (var i = 0; i < cart.length; i++) {
                if (cart[i].id !== productId) {
                    newCart.push(cart[i]);
                }
            }
            cart = newCart;
            updateCartUI();
            updateCartDisplay();
        }

        function payWithPayPal() {
            if (cart.length === 0) {
                Swal.fire({
                    icon: 'warning',
                    title: 'Carrito vacío',
                    text: 'Agrega productos antes de proceder al pago',
                    confirmButtonColor: '#ec4899'
                });
                return;
            }
            showPayPalButton();
        }

        function showPayPalButton() {
            if (cart.length === 0) return;
            
            // Mostrar el contenedor de PayPal
            document.getElementById('paypal-button-container').style.display = 'block';
            document.getElementById('paypalBtn').style.display = 'none';

            // Limpiar contenedor anterior
            document.getElementById('paypal-button-container').innerHTML = '';

            // Calcular total
            var total = 0;
            for (var i = 0; i < cart.length; i++) {
                total += cart[i].price * cart[i].quantity;
            }

            // Convertir pesos uruguayos a USD (aproximadamente)
            var totalUSD = (total / 40).toFixed(2); // 1 USD ≈ 40 UYU (ajustar según cambio actual)

            // Crear botón de PayPal
            paypal.Buttons({
                style: {
                    color: 'blue',
                    shape: 'rect',
                    label: 'pay',
                    height: 50
                },
                createOrder: function(data, actions) {
                    // Crear items del carrito
                    var items = [];
                    for (var i = 0; i < cart.length; i++) {
                        var item = cart[i];
                        var itemPriceUSD = (item.price / 40).toFixed(2);
                        items.push({
                            name: item.name,
                            unit_amount: {
                                currency_code: 'USD',
                                value: itemPriceUSD
                            },
                            quantity: item.quantity.toString(),
                            description: item.category,
                            category: 'PHYSICAL_GOODS'
                        });
                    }

                    return actions.order.create({
                        purchase_units: [{
                            reference_id: 'flores-bach-' + Date.now(),
                            description: 'Fórmula Magistral de Flores de Bach- Claudia De Meis',
                            custom_id: 'FLORES_BACH_ORDER',
                            soft_descriptor: 'FLORES_BACH',
                            amount: {
                                currency_code: 'USD',
                                value: totalUSD,
                                breakdown: {
                                    item_total: {
                                        currency_code: 'USD',
                                        value: totalUSD
                                    }
                                }
                            },
                            items: items,
                            shipping: {
                                method: 'Retiro/Entrega Local',
                                address: {
                                    country_code: 'UY'
                                }
                            }
                        }],
                        application_context: {
                            brand_name: 'Flores de Bach - Claudia De Meis',
                            locale: 'es_UY',
                            user_action: 'PAY_NOW',
                            shipping_preference: 'NO_SHIPPING'
                        }
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(orderData) {
                        // Pago exitoso
                        Swal.fire({
                            icon: 'success',
                            title: '¡Pago exitoso!',
                            html: 'Gracias por tu compra.<br>' +
                                  '<b>ID de transacción:</b> ' + orderData.id + '<br>' +
                                  'Te contactaremos por Instagram para coordinar la entrega.',
                            confirmButtonColor: '#ec4899',
                            confirmButtonText: 'Perfecto'
                        }).then(function() {
                            // Limpiar carrito después del pago exitoso
                            cart = [];
                            updateCartUI();
                            updateCartDisplay();
                            // Cerrar modal
                            var modalInstance = bootstrap.Modal.getInstance(document.getElementById('cartModal'));
                            modalInstance.hide();
                        });
                    });
                },
                onError: function(err) {
                    console.error('Error en PayPal:', err);
                    Swal.fire({
                        icon: 'error',
                        title: 'Error en el pago',
                        text: 'Hubo un problema procesando tu pago. Por favor intenta nuevamente.',
                        confirmButtonColor: '#ec4899'
                    });
                },
                onCancel: function(data) {
                    // Usuario canceló el pago
                    document.getElementById('paypal-button-container').style.display = 'none';
                    document.getElementById('paypalBtn').style.display = 'block';
                }
            }).render('#paypal-button-container');
        }
    </script>
</body>
</html>